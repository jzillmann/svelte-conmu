(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}})();function m(){}function be(e,t){for(const o in t)e[o]=t[o];return e}function ue(e){return e()}function ee(){return Object.create(null)}function M(e){e.forEach(ue)}function O(e){return typeof e=="function"}function S(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ye(e){return Object.keys(e).length===0}function $e(e,...t){if(e==null)return m;const o=e.subscribe(...t);return o.unsubscribe?()=>o.unsubscribe():o}function we(e,t,o){e.$$.on_destroy.push($e(t,o))}function ce(e,t,o,n){if(e){const r=fe(e,t,o,n);return e[0](r)}}function fe(e,t,o,n){return e[1]&&n?be(o.ctx.slice(),e[1](n(t))):o.ctx}function ae(e,t,o,n){if(e[2]&&n){const r=e[2](n(o));if(t.dirty===void 0)return r;if(typeof r=="object"){const l=[],s=Math.max(t.dirty.length,r.length);for(let i=0;i<s;i+=1)l[i]=t.dirty[i]|r[i];return l}return t.dirty|r}return t.dirty}function de(e,t,o,n,r,l){if(r){const s=fe(t,o,n,l);e.p(s,r)}}function me(e){if(e.ctx.length>32){const t=[],o=e.ctx.length/32;for(let n=0;n<o;n++)t[n]=-1;return t}return-1}function te(e){return e&&O(e.destroy)?e.destroy:m}function $(e,t){e.appendChild(t)}function p(e,t,o){e.insertBefore(t,o||null)}function d(e){e.parentNode&&e.parentNode.removeChild(e)}function ve(e,t){for(let o=0;o<e.length;o+=1)e[o]&&e[o].d(t)}function h(e){return document.createElement(e)}function D(e){return document.createTextNode(e)}function L(){return D(" ")}function pe(){return D("")}function w(e,t,o,n){return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n)}function X(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Y(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function b(e,t,o){o==null?e.removeAttribute(t):e.getAttribute(t)!==o&&e.setAttribute(t,o)}function xe(e){return Array.from(e.childNodes)}function _e(e,t){t=""+t,e.data!==t&&(e.data=t)}function B(e,t,o,n){o===null?e.style.removeProperty(t):e.style.setProperty(t,o,n?"important":"")}function q(e,t,o){e.classList[o?"add":"remove"](t)}let V;function I(e){V=e}const j=[],G=[];let H=[];const ne=[],ke=Promise.resolve();let J=!1;function Ee(){J||(J=!0,ke.then(he))}function Q(e){H.push(e)}const K=new Set;let N=0;function he(){if(N!==0)return;const e=V;do{try{for(;N<j.length;){const t=j[N];N++,I(t),Le(t.$$)}}catch(t){throw j.length=0,N=0,t}for(I(null),j.length=0,N=0;G.length;)G.pop()();for(let t=0;t<H.length;t+=1){const o=H[t];K.has(o)||(K.add(o),o())}H.length=0}while(j.length);for(;ne.length;)ne.pop()();J=!1,K.clear(),I(e)}function Le(e){if(e.fragment!==null){e.update(),M(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Q)}}function Ce(e){const t=[],o=[];H.forEach(n=>e.indexOf(n)===-1?t.push(n):o.push(n)),o.forEach(n=>n()),H=t}const U=new Set;let C;function Oe(){C={r:0,c:[],p:C}}function Me(){C.r||M(C.c),C=C.p}function g(e,t){e&&e.i&&(U.delete(e),e.i(t))}function v(e,t,o,n){if(e&&e.o){if(U.has(e))return;U.add(e),C.c.push(()=>{U.delete(e),n&&(o&&e.d(1),n())}),e.o(t)}else n&&n()}const Se=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function R(e){e&&e.c()}function A(e,t,o,n){const{fragment:r,after_update:l}=e.$$;r&&r.m(t,o),n||Q(()=>{const s=e.$$.on_mount.map(ue).filter(O);e.$$.on_destroy?e.$$.on_destroy.push(...s):M(s),e.$$.on_mount=[]}),l.forEach(Q)}function z(e,t){const o=e.$$;o.fragment!==null&&(Ce(o.after_update),M(o.on_destroy),o.fragment&&o.fragment.d(t),o.on_destroy=o.fragment=null,o.ctx=[])}function Te(e,t){e.$$.dirty[0]===-1&&(j.push(e),Ee(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function F(e,t,o,n,r,l,s,i=[-1]){const u=V;I(e);const c=e.$$={fragment:null,ctx:[],props:l,update:m,not_equal:r,bound:ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:ee(),dirty:i,skip_bound:!1,root:t.target||u.$$.root};s&&s(c.root);let _=!1;if(c.ctx=o?o(e,t.props||{},(f,y,...k)=>{const T=k.length?k[0]:y;return c.ctx&&r(c.ctx[f],c.ctx[f]=T)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](T),_&&Te(e,f)),y}):[],c.update(),_=!0,M(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const f=xe(t.target);c.fragment&&c.fragment.l(f),f.forEach(d)}else c.fragment&&c.fragment.c();t.intro&&g(e.$$.fragment),A(e,t.target,t.anchor,t.customElement),he()}I(u)}class W{$destroy(){z(this,1),this.$destroy=m}$on(t,o){if(!O(o))return m;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(o),()=>{const r=n.indexOf(o);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!ye(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const P=[];function Ne(e,t=m){let o;const n=new Set;function r(i){if(S(e,i)&&(e=i,o)){const u=!P.length;for(const c of n)c[1](),P.push(c,e);if(u){for(let c=0;c<P.length;c+=2)P[c][0](P[c+1]);P.length=0}}}function l(i){r(i(e))}function s(i,u=m){const c=[i,u];return n.add(c),n.size===1&&(o=t(r)||m),i(e),()=>{n.delete(c),n.size===0&&o&&(o(),o=null)}}return{set:r,update:l,subscribe:s}}function oe(e,t){return{x:e.clientX,y:e.clientY,options:t}}function Pe(){const{set:e,subscribe:t,update:o}=Ne(null),n=(s,i)=>e(oe(s,i));return{subscribe:t,open:n,close:()=>e(null),toggle:(s,i)=>{o(u=>u&&u.x==s.clientX&&u.y==s.clientY?null:(n(s,i),oe(s,i)))}}}const x=Pe();function je(e){const t=o=>{ge(o.target),e&&!e.contains(o.target)&&!o.defaultPrevented&&e.dispatchEvent(new CustomEvent("clickedOutside"))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function He(e){const t=o=>{ge(o.target),e&&!e.contains(o.target)&&!o.defaultPrevented&&e.dispatchEvent(new CustomEvent("contextMenuedOutside"))};return document.addEventListener("contextmenu",t,!0),{destroy(){document.removeEventListener("contextmenu",t,!0)}}}function ge(e){if(!e||!("nodeType"in e))throw new Error("Node expected")}const{window:Ae}=Se;function ze(e){let t,o,n,r;const l=e[5].default,s=ce(l,e,e[4],null);return{c(){t=h("div"),s&&s.c(),b(t,"id","context-menu-container"),B(t,"top",e[1]+"px"),B(t,"left",e[0]+"px"),b(t,"class","svelte-1fhemm1")},m(i,u){p(i,t,u),s&&s.m(t,null),e[7](t),o=!0,n||(r=[w(Ae,"keydown",e[6]),te(je.call(null,t)),w(t,"clickedOutside",function(){O(e[2])&&e[2].apply(this,arguments)}),te(He.call(null,t)),w(t,"contextMenuedOutside",function(){O(e[2])&&e[2].apply(this,arguments)})],n=!0)},p(i,[u]){e=i,s&&s.p&&(!o||u&16)&&de(s,l,e,e[4],o?ae(l,e[4],u,null):me(e[4]),null),(!o||u&2)&&B(t,"top",e[1]+"px"),(!o||u&1)&&B(t,"left",e[0]+"px")},i(i){o||(g(s,i),o=!0)},o(i){v(s,i),o=!1},d(i){i&&d(t),s&&s.d(i),e[7](null),n=!1,M(r)}}}function qe(e,t,o){let{$$slots:n={},$$scope:r}=t,{menuLeft:l}=t,{menuTop:s}=t,{close:i}=t,u;const c=f=>{f.key==="Escape"&&i()};function _(f){G[f?"unshift":"push"](()=>{u=f,o(3,u)})}return e.$$set=f=>{"menuLeft"in f&&o(0,l=f.menuLeft),"menuTop"in f&&o(1,s=f.menuTop),"close"in f&&o(2,i=f.close),"$$scope"in f&&o(4,r=f.$$scope)},e.$$.update=()=>{e.$$.dirty&11&&u&&(window.innerHeight-s<u.offsetHeight&&o(1,s=s-u.offsetHeight),window.innerWidth-l<u.offsetWidth&&o(0,l=l-u.offsetWidth))},[l,s,i,u,r,n,c,_]}class Fe extends W{constructor(t){super(),F(this,t,qe,ze,S,{menuLeft:0,menuTop:1,close:2})}}const We=e=>({options:e&1}),re=e=>({options:e[1](e[0].options),close:x.close});function le(e){let t,o;return t=new Fe({props:{menuLeft:e[0].x,menuTop:e[0].y,close:x.close,$$slots:{default:[Ie]},$$scope:{ctx:e}}}),{c(){R(t.$$.fragment)},m(n,r){A(t,n,r),o=!0},p(n,r){const l={};r&1&&(l.menuLeft=n[0].x),r&1&&(l.menuTop=n[0].y),r&9&&(l.$$scope={dirty:r,ctx:n}),t.$set(l)},i(n){o||(g(t.$$.fragment,n),o=!0)},o(n){v(t.$$.fragment,n),o=!1},d(n){z(t,n)}}}function Ie(e){let t;const o=e[2].default,n=ce(o,e,e[3],re);return{c(){n&&n.c()},m(r,l){n&&n.m(r,l),t=!0},p(r,l){n&&n.p&&(!t||l&9)&&de(n,o,r,r[3],t?ae(o,r[3],l,We):me(r[3]),re)},i(r){t||(g(n,r),t=!0)},o(r){v(n,r),t=!1},d(r){n&&n.d(r)}}}function Re(e){let t,o,n=e[0]&&le(e);return{c(){n&&n.c(),t=pe()},m(r,l){n&&n.m(r,l),p(r,t,l),o=!0},p(r,[l]){r[0]?n?(n.p(r,l),l&1&&g(n,1)):(n=le(r),n.c(),g(n,1),n.m(t.parentNode,t)):n&&(Oe(),v(n,1,1,()=>{n=null}),Me())},i(r){o||(g(n),o=!0)},o(r){v(n),o=!1},d(r){n&&n.d(r),r&&d(t)}}}function Be(e,t,o){let n;we(e,x,i=>o(0,n=i));let{$$slots:r={},$$scope:l}=t;function s(i){return i.map(u=>u.action?Object.assign(Object.assign({},u),{action:()=>{(!u.disabled||!u.disabled())&&(u.action(),x.close())}}):u)}return e.$$set=i=>{"$$scope"in i&&o(3,l=i.$$scope)},[n,s,r,l]}class Ue extends W{constructor(t){super(),F(this,t,Be,Re,S,{})}}function se(e,t,o){const n=e.slice();return n[2]=t[o],n}function Xe(e){let t,o=e[2].label+"",n,r,l,s;return{c(){t=h("div"),n=D(o),r=L(),b(t,"class","context-menu-info svelte-y3z383")},m(i,u){p(i,t,u),$(t,n),$(t,r),l||(s=w(t,"click",function(){O(e[1])&&e[1].apply(this,arguments)}),l=!0)},p(i,u){e=i,u&1&&o!==(o=e[2].label+"")&&_e(n,o)},d(i){i&&d(t),l=!1,s()}}}function Ye(e){let t,o=e[2].label+"",n,r,l,s;return{c(){t=h("div"),n=D(o),r=L(),b(t,"class","context-menu-option svelte-y3z383"),q(t,"context-menu-disabled",e[2].disabled&&e[2].disabled())},m(i,u){p(i,t,u),$(t,n),$(t,r),l||(s=w(t,"click",function(){O(e[2].action)&&e[2].action.apply(this,arguments)}),l=!0)},p(i,u){e=i,u&1&&o!==(o=e[2].label+"")&&_e(n,o),u&1&&q(t,"context-menu-disabled",e[2].disabled&&e[2].disabled())},d(i){i&&d(t),l=!1,s()}}}function De(e){let t;return{c(){t=h("hr"),b(t,"class","svelte-y3z383")},m(o,n){p(o,t,n)},p:m,d(o){o&&d(t)}}}function ie(e){let t;function o(l,s){return l[2].label=="hr"?De:l[2].action?Ye:Xe}let n=o(e),r=n(e);return{c(){r.c(),t=pe()},m(l,s){r.m(l,s),p(l,t,s)},p(l,s){n===(n=o(l))&&r?r.p(l,s):(r.d(1),r=n(l),r&&(r.c(),r.m(t.parentNode,t)))},d(l){r.d(l),l&&d(t)}}}function Ke(e){let t,o=e[0],n=[];for(let r=0;r<o.length;r+=1)n[r]=ie(se(e,o,r));return{c(){t=h("div");for(let r=0;r<n.length;r+=1)n[r].c();b(t,"id","context-menu"),b(t,"class","svelte-y3z383")},m(r,l){p(r,t,l);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(t,null)},p(r,l){if(l&3){o=r[0];let s;for(s=0;s<o.length;s+=1){const i=se(r,o,s);n[s]?n[s].p(i,l):(n[s]=ie(i),n[s].c(),n[s].m(t,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=o.length}},d(r){r&&d(t),ve(n,r)}}}function Ge(e){let t,o;return t=new Ue({props:{$$slots:{default:[Ke,({options:n,close:r})=>({0:n,1:r}),({options:n,close:r})=>(n?1:0)|(r?2:0)]},$$scope:{ctx:e}}}),{c(){R(t.$$.fragment)},m(n,r){A(t,n,r),o=!0},p(n,[r]){const l={};r&35&&(l.$$scope={dirty:r,ctx:n}),t.$set(l)},i(n){o||(g(t.$$.fragment,n),o=!0)},o(n){v(t.$$.fragment,n),o=!1},d(n){z(t,n)}}}class Je extends W{constructor(t){super(),F(this,t,null,Ge,S,{})}}function Qe(e){let t,o,n;return{c(){t=h("footer"),t.innerHTML='<h3 class="svelte-v61f3q">Footer with context menu</h3>',b(t,"class","svelte-v61f3q"),q(t,"colorSwitched",e[0])},m(r,l){p(r,t,l),o||(n=w(t,"contextmenu",Y(X(e[2]))),o=!0)},p(r,[l]){l&1&&q(t,"colorSwitched",r[0])},i:m,o:m,d(r){r&&d(t),o=!1,n()}}}function Ve(e,t,o){let n=!1;const r=[{label:"Switch Color",action:()=>o(0,n=!n)},{label:"hr"},{label:"Log to console",action:()=>console.log("logged to console")},{label:"Close window",action:()=>window.close(),disabled:()=>n==!1}];return[n,r,s=>x.toggle(s,r)]}class Ze extends W{constructor(t){super(),F(this,t,Ve,Qe,S,{})}}function et(e){let t,o,n;return{c(){t=h("footer"),t.innerHTML='<h3 class="svelte-7mrxdi">Header with context menu</h3>',b(t,"class","svelte-7mrxdi"),q(t,"colorSwitched",e[0])},m(r,l){p(r,t,l),o||(n=w(t,"contextmenu",Y(X(e[2]))),o=!0)},p(r,[l]){l&1&&q(t,"colorSwitched",r[0])},i:m,o:m,d(r){r&&d(t),o=!1,n()}}}function tt(e,t,o){let n=!1;const r=[{label:"Switch Color",action:()=>o(0,n=!n)},{label:"hr"},{label:"Alert",action:()=>alert("Context triggered alert!")}];return[n,r,s=>x.toggle(s,r)]}class nt extends W{constructor(t){super(),F(this,t,tt,et,S,{})}}function ot(e){let t,o,n,r,l,s,i,u,c,_,f,y,k,T,Z;return t=new nt({}),_=new Ze({}),y=new Je({}),{c(){R(t.$$.fragment),o=L(),n=h("main"),r=h("h1"),r.textContent="Example of svelte-conmu",l=L(),s=h("h4"),s.textContent="A Svelte Context Menu Library",i=L(),u=h("div"),u.innerHTML="<i>Right click and experiment</i>",c=L(),R(_.$$.fragment),f=L(),R(y.$$.fragment),b(r,"class","svelte-ggasss"),b(s,"class","svelte-ggasss")},m(a,E){A(t,a,E),p(a,o,E),p(a,n,E),$(n,r),$(n,l),$(n,s),$(n,i),$(n,u),p(a,c,E),A(_,a,E),p(a,f,E),A(y,a,E),k=!0,T||(Z=[w(r,"contextmenu",Y(X(e[2]))),w(u,"contextmenu",Y(X(e[3])))],T=!0)},p:m,i(a){k||(g(t.$$.fragment,a),g(_.$$.fragment,a),g(y.$$.fragment,a),k=!0)},o(a){v(t.$$.fragment,a),v(_.$$.fragment,a),v(y.$$.fragment,a),k=!1},d(a){z(t,a),a&&d(o),a&&d(n),a&&d(c),z(_,a),a&&d(f),z(y,a),T=!1,M(Z)}}}function rt(e){const t=[{label:"See code",action:()=>window.open(new URL("https://github.com/jzillmann/svelte-conmu/tree/main/example"),"_blank")},{label:"Project Page",action:()=>window.open(new URL("https://github.com/jzillmann/svelte-conmu"),"_blank")}],o=[{label:"Not exactly here... Explore the area indicated by the cursor!"}];return[t,o,l=>x.toggle(l,t),l=>x.toggle(l,o)]}class lt extends W{constructor(t){super(),F(this,t,rt,ot,S,{})}}new lt({target:document.getElementById("app")});
