(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}})();function m(){}function be(t,e){for(const o in e)t[o]=e[o];return t}function ue(t){return t()}function ee(){return Object.create(null)}function O(t){t.forEach(ue)}function I(t){return typeof t=="function"}function C(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ye(t){return Object.keys(t).length===0}function $e(t,...e){if(t==null)return m;const o=t.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function we(t,e,o){t.$$.on_destroy.push($e(e,o))}function ce(t,e,o,n){if(t){const r=fe(t,e,o,n);return t[0](r)}}function fe(t,e,o,n){return t[1]&&n?be(o.ctx.slice(),t[1](n(e))):o.ctx}function ae(t,e,o,n){if(t[2]&&n){const r=t[2](n(o));if(e.dirty===void 0)return r;if(typeof r=="object"){const l=[],s=Math.max(e.dirty.length,r.length);for(let i=0;i<s;i+=1)l[i]=e.dirty[i]|r[i];return l}return e.dirty|r}return e.dirty}function de(t,e,o,n,r,l){if(r){const s=fe(e,o,n,l);t.p(s,r)}}function me(t){if(t.ctx.length>32){const e=[],o=t.ctx.length/32;for(let n=0;n<o;n++)e[n]=-1;return e}return-1}function te(t){return t&&I(t.destroy)?t.destroy:m}function w(t,e){t.appendChild(e)}function p(t,e,o){t.insertBefore(e,o||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function ve(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function h(t){return document.createElement(t)}function D(t){return document.createTextNode(t)}function E(){return D(" ")}function pe(){return D("")}function v(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function U(t){return function(e){return e.preventDefault(),t.call(this,e)}}function X(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function b(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function xe(t){return Array.from(t.childNodes)}function _e(t,e){e=""+e,t.data!==e&&(t.data=e)}function R(t,e,o,n){o===null?t.style.removeProperty(e):t.style.setProperty(e,o,n?"important":"")}function Y(t,e,o){t.classList[o?"add":"remove"](e)}let V;function F(t){V=t}const P=[],G=[];let j=[];const ne=[],Se=Promise.resolve();let J=!1;function ke(){J||(J=!0,Se.then(he))}function Q(t){j.push(t)}const K=new Set;let T=0;function he(){if(T!==0)return;const t=V;do{try{for(;T<P.length;){const e=P[T];T++,F(e),Ee(e.$$)}}catch(e){throw P.length=0,T=0,e}for(F(null),P.length=0,T=0;G.length;)G.pop()();for(let e=0;e<j.length;e+=1){const o=j[e];K.has(o)||(K.add(o),o())}j.length=0}while(P.length);for(;ne.length;)ne.pop()();J=!1,K.clear(),F(t)}function Ee(t){if(t.fragment!==null){t.update(),O(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}function Le(t){const e=[],o=[];j.forEach(n=>t.indexOf(n)===-1?e.push(n):o.push(n)),o.forEach(n=>n()),j=e}const B=new Set;let L;function Oe(){L={r:0,c:[],p:L}}function Ce(){L.r||O(L.c),L=L.p}function g(t,e){t&&t.i&&(B.delete(t),t.i(e))}function x(t,e,o,n){if(t&&t.o){if(B.has(t))return;B.add(t),L.c.push(()=>{B.delete(t),n&&(o&&t.d(1),n())}),t.o(e)}else n&&n()}const Me=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function W(t){t&&t.c()}function H(t,e,o,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,o),n||Q(()=>{const s=t.$$.on_mount.map(ue).filter(I);t.$$.on_destroy?t.$$.on_destroy.push(...s):O(s),t.$$.on_mount=[]}),l.forEach(Q)}function A(t,e){const o=t.$$;o.fragment!==null&&(Le(o.after_update),O(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Te(t,e){t.$$.dirty[0]===-1&&(P.push(t),ke(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,o,n,r,l,s,i=[-1]){const u=V;F(t);const c=t.$$={fragment:null,ctx:[],props:l,update:m,not_equal:r,bound:ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ee(),dirty:i,skip_bound:!1,root:e.target||u.$$.root};s&&s(c.root);let a=!1;if(c.ctx=o?o(t,e.props||{},(_,$,...S)=>{const M=S.length?S[0]:$;return c.ctx&&r(c.ctx[_],c.ctx[_]=M)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](M),a&&Te(t,_)),$}):[],c.update(),a=!0,O(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const _=xe(e.target);c.fragment&&c.fragment.l(_),_.forEach(d)}else c.fragment&&c.fragment.c();e.intro&&g(t.$$.fragment),H(t,e.target,e.anchor,e.customElement),he()}F(u)}class z{$destroy(){A(this,1),this.$destroy=m}$on(e,o){if(!I(o))return m;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(o),()=>{const r=n.indexOf(o);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!ye(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const N=[];function Ne(t,e=m){let o;const n=new Set;function r(i){if(C(t,i)&&(t=i,o)){const u=!N.length;for(const c of n)c[1](),N.push(c,t);if(u){for(let c=0;c<N.length;c+=2)N[c][0](N[c+1]);N.length=0}}}function l(i){r(i(t))}function s(i,u=m){const c=[i,u];return n.add(c),n.size===1&&(o=e(r)||m),i(t),()=>{n.delete(c),n.size===0&&o&&(o(),o=null)}}return{set:r,update:l,subscribe:s}}function oe(t,e){return{x:t.clientX,y:t.clientY,options:e}}const y=Pe(()=>{const{set:t,subscribe:e,update:o}=Ne(null);return{open:(n,r)=>{t(oe(n,r))},close:()=>{t(null)},toggle:(n,r)=>{o(l=>l&&l.x==n.clientX&&l.y==n.clientY?null:(y.open(n,r),oe(n,r)))},subscribe:e}});function Pe(t){return t()}function je(t){const e=o=>{ge(o.target),t&&!t.contains(o.target)&&!o.defaultPrevented&&t.dispatchEvent(new CustomEvent("clickedOutside"))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function He(t){const e=o=>{ge(o.target),t&&!t.contains(o.target)&&!o.defaultPrevented&&t.dispatchEvent(new CustomEvent("contextMenuedOutside"))};return document.addEventListener("contextmenu",e,!0),{destroy(){document.removeEventListener("contextmenu",e,!0)}}}function ge(t){if(!t||!("nodeType"in t))throw new Error("Node expected")}const{window:Ae}=Me;function qe(t){let e,o,n,r;const l=t[4].default,s=ce(l,t,t[3],null);return{c(){e=h("div"),s&&s.c(),b(e,"id","context-menu-container"),R(e,"top",t[1]+"px"),R(e,"left",t[0]+"px"),b(e,"class","svelte-1fhemm1")},m(i,u){p(i,e,u),s&&s.m(e,null),t[6](e),o=!0,n||(r=[v(Ae,"keydown",t[5]),te(je.call(null,e)),v(e,"clickedOutside",y.close),te(He.call(null,e)),v(e,"contextMenuedOutside",y.close)],n=!0)},p(i,[u]){s&&s.p&&(!o||u&8)&&de(s,l,i,i[3],o?ae(l,i[3],u,null):me(i[3]),null),(!o||u&2)&&R(e,"top",i[1]+"px"),(!o||u&1)&&R(e,"left",i[0]+"px")},i(i){o||(g(s,i),o=!0)},o(i){x(s,i),o=!1},d(i){i&&d(e),s&&s.d(i),t[6](null),n=!1,O(r)}}}function ze(t,e,o){let{$$slots:n={},$$scope:r}=e,{menuLeft:l}=e,{menuTop:s}=e,i;const u=a=>{a.key==="Escape"&&y.close()};function c(a){G[a?"unshift":"push"](()=>{i=a,o(2,i)})}return t.$$set=a=>{"menuLeft"in a&&o(0,l=a.menuLeft),"menuTop"in a&&o(1,s=a.menuTop),"$$scope"in a&&o(3,r=a.$$scope)},t.$$.update=()=>{t.$$.dirty&7&&i&&(window.innerHeight-s<i.offsetHeight&&o(1,s=s-i.offsetHeight),window.innerWidth-l<i.offsetWidth&&o(0,l=l-i.offsetWidth))},[l,s,i,r,n,u,c]}class Fe extends z{constructor(e){super(),q(this,e,ze,qe,C,{menuLeft:0,menuTop:1})}}const We=t=>({options:t&1}),re=t=>({options:t[1](t[0].options),close:y.close});function le(t){let e,o;return e=new Fe({props:{menuLeft:t[0].x,menuTop:t[0].y,$$slots:{default:[Ie]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(n,r){H(e,n,r),o=!0},p(n,r){const l={};r&1&&(l.menuLeft=n[0].x),r&1&&(l.menuTop=n[0].y),r&9&&(l.$$scope={dirty:r,ctx:n}),e.$set(l)},i(n){o||(g(e.$$.fragment,n),o=!0)},o(n){x(e.$$.fragment,n),o=!1},d(n){A(e,n)}}}function Ie(t){let e;const o=t[2].default,n=ce(o,t,t[3],re);return{c(){n&&n.c()},m(r,l){n&&n.m(r,l),e=!0},p(r,l){n&&n.p&&(!e||l&9)&&de(n,o,r,r[3],e?ae(o,r[3],l,We):me(r[3]),re)},i(r){e||(g(n,r),e=!0)},o(r){x(n,r),e=!1},d(r){n&&n.d(r)}}}function Re(t){let e,o,n=t[0]&&le(t);return{c(){n&&n.c(),e=pe()},m(r,l){n&&n.m(r,l),p(r,e,l),o=!0},p(r,[l]){r[0]?n?(n.p(r,l),l&1&&g(n,1)):(n=le(r),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Oe(),x(n,1,1,()=>{n=null}),Ce())},i(r){o||(g(n),o=!0)},o(r){x(n),o=!1},d(r){n&&n.d(r),r&&d(e)}}}function Be(t,e,o){let n;we(t,y,i=>o(0,n=i));let{$$slots:r={},$$scope:l}=e;function s(i){return i.map(u=>u.onSelect?Object.assign(Object.assign({},u),{onSelect:()=>{u.onSelect(),y.close()}}):u)}return t.$$set=i=>{"$$scope"in i&&o(3,l=i.$$scope)},[n,s,r,l]}class Ue extends z{constructor(e){super(),q(this,e,Be,Re,C,{})}}function se(t,e,o){const n=t.slice();return n[2]=e[o],n}function Xe(t){let e,o=t[2].label+"",n,r,l,s;return{c(){e=h("div"),n=D(o),r=E(),b(e,"class","context-menu-info svelte-g0apv5")},m(i,u){p(i,e,u),w(e,n),w(e,r),l||(s=v(e,"click",function(){I(t[1])&&t[1].apply(this,arguments)}),l=!0)},p(i,u){t=i,u&1&&o!==(o=t[2].label+"")&&_e(n,o)},d(i){i&&d(e),l=!1,s()}}}function Ye(t){let e,o=t[2].label+"",n,r,l,s;return{c(){e=h("div"),n=D(o),r=E(),b(e,"class","context-menu-option svelte-g0apv5")},m(i,u){p(i,e,u),w(e,n),w(e,r),l||(s=v(e,"click",function(){I(t[2].onSelect)&&t[2].onSelect.apply(this,arguments)}),l=!0)},p(i,u){t=i,u&1&&o!==(o=t[2].label+"")&&_e(n,o)},d(i){i&&d(e),l=!1,s()}}}function De(t){let e;return{c(){e=h("hr"),b(e,"class","svelte-g0apv5")},m(o,n){p(o,e,n)},p:m,d(o){o&&d(e)}}}function ie(t){let e;function o(l,s){return l[2].label=="hr"?De:l[2].onSelect?Ye:Xe}let n=o(t),r=n(t);return{c(){r.c(),e=pe()},m(l,s){r.m(l,s),p(l,e,s)},p(l,s){n===(n=o(l))&&r?r.p(l,s):(r.d(1),r=n(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){r.d(l),l&&d(e)}}}function Ke(t){let e,o=t[0],n=[];for(let r=0;r<o.length;r+=1)n[r]=ie(se(t,o,r));return{c(){e=h("div");for(let r=0;r<n.length;r+=1)n[r].c();b(e,"id","context-menu"),b(e,"class","svelte-g0apv5")},m(r,l){p(r,e,l);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(r,l){if(l&3){o=r[0];let s;for(s=0;s<o.length;s+=1){const i=se(r,o,s);n[s]?n[s].p(i,l):(n[s]=ie(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=o.length}},d(r){r&&d(e),ve(n,r)}}}function Ge(t){let e,o;return e=new Ue({props:{$$slots:{default:[Ke,({options:n,close:r})=>({0:n,1:r}),({options:n,close:r})=>(n?1:0)|(r?2:0)]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(n,r){H(e,n,r),o=!0},p(n,[r]){const l={};r&35&&(l.$$scope={dirty:r,ctx:n}),e.$set(l)},i(n){o||(g(e.$$.fragment,n),o=!0)},o(n){x(e.$$.fragment,n),o=!1},d(n){A(e,n)}}}class Je extends z{constructor(e){super(),q(this,e,null,Ge,C,{})}}function Qe(t){let e,o,n;return{c(){e=h("footer"),e.innerHTML='<h3 class="svelte-v61f3q">Footer with context menu</h3>',b(e,"class","svelte-v61f3q"),Y(e,"colorSwitched",t[0])},m(r,l){p(r,e,l),o||(n=v(e,"contextmenu",X(U(t[2]))),o=!0)},p(r,[l]){l&1&&Y(e,"colorSwitched",r[0])},i:m,o:m,d(r){r&&d(e),o=!1,n()}}}function Ve(t,e,o){let n=!1;const r=[{label:"Switch Color",onSelect:()=>o(0,n=!n)},{label:"hr"},{label:"Log to console",onSelect:()=>console.log("logged to console")}];return[n,r,s=>y.toggle(s,r)]}class Ze extends z{constructor(e){super(),q(this,e,Ve,Qe,C,{})}}function et(t){let e,o,n;return{c(){e=h("footer"),e.innerHTML='<h3 class="svelte-7mrxdi">Header with context menu</h3>',b(e,"class","svelte-7mrxdi"),Y(e,"colorSwitched",t[0])},m(r,l){p(r,e,l),o||(n=v(e,"contextmenu",X(U(t[2]))),o=!0)},p(r,[l]){l&1&&Y(e,"colorSwitched",r[0])},i:m,o:m,d(r){r&&d(e),o=!1,n()}}}function tt(t,e,o){let n=!1;const r=[{label:"Switch Color",onSelect:()=>o(0,n=!n)},{label:"hr"},{label:"Alert",onSelect:()=>alert("Context triggered alert!")}];return[n,r,s=>y.toggle(s,r)]}class nt extends z{constructor(e){super(),q(this,e,tt,et,C,{})}}function ot(t){let e,o,n,r,l,s,i,u,c,a,_,$,S,M,Z;return e=new nt({}),a=new Ze({}),$=new Je({}),{c(){W(e.$$.fragment),o=E(),n=h("main"),r=h("h1"),r.textContent="Example of svelte-conmu",l=E(),s=h("h4"),s.textContent="A Svelte Context Menu Library",i=E(),u=h("div"),u.innerHTML="<i>Right click and experiment</i>",c=E(),W(a.$$.fragment),_=E(),W($.$$.fragment),b(r,"class","svelte-ggasss"),b(s,"class","svelte-ggasss")},m(f,k){H(e,f,k),p(f,o,k),p(f,n,k),w(n,r),w(n,l),w(n,s),w(n,i),w(n,u),p(f,c,k),H(a,f,k),p(f,_,k),H($,f,k),S=!0,M||(Z=[v(r,"contextmenu",X(U(t[2]))),v(u,"contextmenu",X(U(t[3])))],M=!0)},p:m,i(f){S||(g(e.$$.fragment,f),g(a.$$.fragment,f),g($.$$.fragment,f),S=!0)},o(f){x(e.$$.fragment,f),x(a.$$.fragment,f),x($.$$.fragment,f),S=!1},d(f){A(e,f),f&&d(o),f&&d(n),f&&d(c),A(a,f),f&&d(_),A($,f),M=!1,O(Z)}}}function rt(t){const e=[{label:"See code",onSelect:()=>window.open(new URL("https://github.com/jzillmann/svelte-conmu/tree/main/example"),"_blank")},{label:"Project Page",onSelect:()=>window.open(new URL("https://github.com/jzillmann/svelte-conmu"),"_blank")}],o=[{label:"Not exactly here... Explore the area indicated by the cursor!"}];return[e,o,l=>y.toggle(l,e),l=>y.toggle(l,o)]}class lt extends z{constructor(e){super(),q(this,e,rt,ot,C,{})}}new lt({target:document.getElementById("app")});
