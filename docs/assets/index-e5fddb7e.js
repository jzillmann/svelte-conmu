(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}})();function m(){}function ge(t,e){for(const o in e)t[o]=e[o];return t}function ie(t){return t()}function ee(){return Object.create(null)}function O(t){t.forEach(ie)}function I(t){return typeof t=="function"}function C(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ye(t){return Object.keys(t).length===0}function be(t,...e){if(t==null)return m;const o=t.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function $e(t,e,o){t.$$.on_destroy.push(be(e,o))}function ce(t,e,o,n){if(t){const r=ue(t,e,o,n);return t[0](r)}}function ue(t,e,o,n){return t[1]&&n?ge(o.ctx.slice(),t[1](n(e))):o.ctx}function fe(t,e,o,n){if(t[2]&&n){const r=t[2](n(o));if(e.dirty===void 0)return r;if(typeof r=="object"){const l=[],s=Math.max(e.dirty.length,r.length);for(let i=0;i<s;i+=1)l[i]=e.dirty[i]|r[i];return l}return e.dirty|r}return e.dirty}function ae(t,e,o,n,r,l){if(r){const s=ue(e,o,n,l);t.p(s,r)}}function de(t){if(t.ctx.length>32){const e=[],o=t.ctx.length/32;for(let n=0;n<o;n++)e[n]=-1;return e}return-1}function te(t){return t&&I(t.destroy)?t.destroy:m}function v(t,e){t.appendChild(e)}function _(t,e,o){t.insertBefore(e,o||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function we(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function b(t){return document.createElement(t)}function D(t){return document.createTextNode(t)}function E(){return D(" ")}function pe(){return D("")}function y(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function Y(t){return function(e){return e.preventDefault(),t.call(this,e)}}function B(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function w(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function ve(t){return Array.from(t.childNodes)}function me(t,e){e=""+e,t.data!==e&&(t.data=e)}function R(t,e,o,n){o===null?t.style.removeProperty(e):t.style.setProperty(e,o,n?"important":"")}function U(t,e,o){t.classList[o?"add":"remove"](e)}let V;function F(t){V=t}const P=[],G=[];let j=[];const ne=[],xe=Promise.resolve();let J=!1;function ke(){J||(J=!0,xe.then(_e))}function Q(t){j.push(t)}const K=new Set;let T=0;function _e(){if(T!==0)return;const t=V;do{try{for(;T<P.length;){const e=P[T];T++,F(e),Se(e.$$)}}catch(e){throw P.length=0,T=0,e}for(F(null),P.length=0,T=0;G.length;)G.pop()();for(let e=0;e<j.length;e+=1){const o=j[e];K.has(o)||(K.add(o),o())}j.length=0}while(P.length);for(;ne.length;)ne.pop()();J=!1,K.clear(),F(t)}function Se(t){if(t.fragment!==null){t.update(),O(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}function Ee(t){const e=[],o=[];j.forEach(n=>t.indexOf(n)===-1?e.push(n):o.push(n)),o.forEach(n=>n()),j=e}const X=new Set;let L;function Le(){L={r:0,c:[],p:L}}function Oe(){L.r||O(L.c),L=L.p}function $(t,e){t&&t.i&&(X.delete(t),t.i(e))}function x(t,e,o,n){if(t&&t.o){if(X.has(t))return;X.add(t),L.c.push(()=>{X.delete(t),n&&(o&&t.d(1),n())}),t.o(e)}else n&&n()}const Ce=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function W(t){t&&t.c()}function H(t,e,o,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,o),n||Q(()=>{const s=t.$$.on_mount.map(ie).filter(I);t.$$.on_destroy?t.$$.on_destroy.push(...s):O(s),t.$$.on_mount=[]}),l.forEach(Q)}function A(t,e){const o=t.$$;o.fragment!==null&&(Ee(o.after_update),O(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Me(t,e){t.$$.dirty[0]===-1&&(P.push(t),ke(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,o,n,r,l,s,i=[-1]){const c=V;F(t);const u=t.$$={fragment:null,ctx:[],props:l,update:m,not_equal:r,bound:ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ee(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};s&&s(u.root);let g=!1;if(u.ctx=o?o(t,e.props||{},(d,f,...k)=>{const M=k.length?k[0]:f;return u.ctx&&r(u.ctx[d],u.ctx[d]=M)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](M),g&&Me(t,d)),f}):[],u.update(),g=!0,O(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const d=ve(e.target);u.fragment&&u.fragment.l(d),d.forEach(p)}else u.fragment&&u.fragment.c();e.intro&&$(t.$$.fragment),H(t,e.target,e.anchor,e.customElement),_e()}F(c)}class z{$destroy(){A(this,1),this.$destroy=m}$on(e,o){if(!I(o))return m;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(o),()=>{const r=n.indexOf(o);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!ye(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const N=[];function Te(t,e=m){let o;const n=new Set;function r(i){if(C(t,i)&&(t=i,o)){const c=!N.length;for(const u of n)u[1](),N.push(u,t);if(c){for(let u=0;u<N.length;u+=2)N[u][0](N[u+1]);N.length=0}}}function l(i){r(i(t))}function s(i,c=m){const u=[i,c];return n.add(u),n.size===1&&(o=e(r)||m),i(t),()=>{n.delete(u),n.size===0&&o&&(o(),o=null)}}return{set:r,update:l,subscribe:s}}function Ne(t,e){return{x:t.clientX,y:t.clientY,options:e}}const h=Pe(()=>{const{set:t,subscribe:e,update:o}=Te(null);return{open:(n,r,l)=>{t({x:n,y:r,options:l})},close:()=>{t(null)},toggle:(n,r)=>{o(l=>l&&l.x==n.clientX&&l.y==n.clientY?null:(h.open(n.clientX,n.clientY,r),Ne(n,r)))},subscribe:e}});function Pe(t){return t()}function je(t){const e=o=>{he(o.target),t&&!t.contains(o.target)&&!o.defaultPrevented&&t.dispatchEvent(new CustomEvent("clickedOutside"))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function He(t){const e=o=>{he(o.target),t&&!t.contains(o.target)&&!o.defaultPrevented&&t.dispatchEvent(new CustomEvent("contextMenuedOutside"))};return document.addEventListener("contextmenu",e,!0),{destroy(){document.removeEventListener("contextmenu",e,!0)}}}function he(t){if(!t||!("nodeType"in t))throw new Error("Node expected")}const{window:Ae}=Ce;function qe(t){let e,o,n,r;const l=t[4].default,s=ce(l,t,t[3],null);return{c(){e=b("div"),s&&s.c(),w(e,"id","context-menu-container"),R(e,"top",t[1]+"px"),R(e,"left",t[0]+"px"),w(e,"class","svelte-1fhemm1")},m(i,c){_(i,e,c),s&&s.m(e,null),t[6](e),o=!0,n||(r=[y(Ae,"keydown",t[5]),te(je.call(null,e)),y(e,"clickedOutside",h.close),te(He.call(null,e)),y(e,"contextMenuedOutside",h.close),y(e,"keydown",t[7]),y(e,"keypress",t[8])],n=!0)},p(i,[c]){s&&s.p&&(!o||c&8)&&ae(s,l,i,i[3],o?fe(l,i[3],c,null):de(i[3]),null),(!o||c&2)&&R(e,"top",i[1]+"px"),(!o||c&1)&&R(e,"left",i[0]+"px")},i(i){o||($(s,i),o=!0)},o(i){x(s,i),o=!1},d(i){i&&p(e),s&&s.d(i),t[6](null),n=!1,O(r)}}}function ze(t,e,o){let{$$slots:n={},$$scope:r}=e,{menuLeft:l}=e,{menuTop:s}=e,i;const c=f=>{console.log("keydown0",f.key),f.key==="Escape"&&h.close()};function u(f){G[f?"unshift":"push"](()=>{i=f,o(2,i)})}const g=f=>{console.log("keydown",f.key),f.key==="Escape"&&h.close()},d=f=>{console.log("keypress",f.key),f.key==="Escape"&&h.close()};return t.$$set=f=>{"menuLeft"in f&&o(0,l=f.menuLeft),"menuTop"in f&&o(1,s=f.menuTop),"$$scope"in f&&o(3,r=f.$$scope)},t.$$.update=()=>{t.$$.dirty&7&&i&&(window.innerHeight-s<i.offsetHeight&&o(1,s=s-i.offsetHeight),window.innerWidth-l<i.offsetWidth&&o(0,l=l-i.offsetWidth))},[l,s,i,r,n,c,u,g,d]}class Fe extends z{constructor(e){super(),q(this,e,ze,qe,C,{menuLeft:0,menuTop:1})}}const We=t=>({options:t&1}),oe=t=>({options:t[1](t[0].options),close:h.close});function re(t){let e,o;return e=new Fe({props:{menuLeft:t[0].x,menuTop:t[0].y,$$slots:{default:[Ie]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(n,r){H(e,n,r),o=!0},p(n,r){const l={};r&1&&(l.menuLeft=n[0].x),r&1&&(l.menuTop=n[0].y),r&9&&(l.$$scope={dirty:r,ctx:n}),e.$set(l)},i(n){o||($(e.$$.fragment,n),o=!0)},o(n){x(e.$$.fragment,n),o=!1},d(n){A(e,n)}}}function Ie(t){let e;const o=t[2].default,n=ce(o,t,t[3],oe);return{c(){n&&n.c()},m(r,l){n&&n.m(r,l),e=!0},p(r,l){n&&n.p&&(!e||l&9)&&ae(n,o,r,r[3],e?fe(o,r[3],l,We):de(r[3]),oe)},i(r){e||($(n,r),e=!0)},o(r){x(n,r),e=!1},d(r){n&&n.d(r)}}}function Re(t){let e,o,n=t[0]&&re(t);return{c(){n&&n.c(),e=pe()},m(r,l){n&&n.m(r,l),_(r,e,l),o=!0},p(r,[l]){r[0]?n?(n.p(r,l),l&1&&$(n,1)):(n=re(r),n.c(),$(n,1),n.m(e.parentNode,e)):n&&(Le(),x(n,1,1,()=>{n=null}),Oe())},i(r){o||($(n),o=!0)},o(r){x(n),o=!1},d(r){n&&n.d(r),r&&p(e)}}}function Xe(t,e,o){let n;$e(t,h,i=>o(0,n=i));let{$$slots:r={},$$scope:l}=e;function s(i){return i.map(c=>c.onSelect?Object.assign(Object.assign({},c),{onSelect:()=>{c.onSelect(),h.close()}}):c)}return t.$$set=i=>{"$$scope"in i&&o(3,l=i.$$scope)},[n,s,r,l]}class Ye extends z{constructor(e){super(),q(this,e,Xe,Re,C,{})}}function le(t,e,o){const n=t.slice();return n[2]=e[o],n}function Be(t){let e,o=t[2].label+"",n,r,l,s;return{c(){e=b("div"),n=D(o),r=E(),w(e,"class","context-menu-info svelte-g0apv5")},m(i,c){_(i,e,c),v(e,n),v(e,r),l||(s=y(e,"click",function(){I(t[1])&&t[1].apply(this,arguments)}),l=!0)},p(i,c){t=i,c&1&&o!==(o=t[2].label+"")&&me(n,o)},d(i){i&&p(e),l=!1,s()}}}function Ue(t){let e,o=t[2].label+"",n,r,l,s;return{c(){e=b("div"),n=D(o),r=E(),w(e,"class","context-menu-option svelte-g0apv5")},m(i,c){_(i,e,c),v(e,n),v(e,r),l||(s=y(e,"click",function(){I(t[2].onSelect)&&t[2].onSelect.apply(this,arguments)}),l=!0)},p(i,c){t=i,c&1&&o!==(o=t[2].label+"")&&me(n,o)},d(i){i&&p(e),l=!1,s()}}}function De(t){let e;return{c(){e=b("hr"),w(e,"class","svelte-g0apv5")},m(o,n){_(o,e,n)},p:m,d(o){o&&p(e)}}}function se(t){let e;function o(l,s){return l[2].label=="hr"?De:l[2].onSelect?Ue:Be}let n=o(t),r=n(t);return{c(){r.c(),e=pe()},m(l,s){r.m(l,s),_(l,e,s)},p(l,s){n===(n=o(l))&&r?r.p(l,s):(r.d(1),r=n(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){r.d(l),l&&p(e)}}}function Ke(t){let e,o=t[0],n=[];for(let r=0;r<o.length;r+=1)n[r]=se(le(t,o,r));return{c(){e=b("div");for(let r=0;r<n.length;r+=1)n[r].c();w(e,"id","context-menu"),w(e,"class","svelte-g0apv5")},m(r,l){_(r,e,l);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(r,l){if(l&3){o=r[0];let s;for(s=0;s<o.length;s+=1){const i=le(r,o,s);n[s]?n[s].p(i,l):(n[s]=se(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=o.length}},d(r){r&&p(e),we(n,r)}}}function Ge(t){let e,o;return e=new Ye({props:{$$slots:{default:[Ke,({options:n,close:r})=>({0:n,1:r}),({options:n,close:r})=>(n?1:0)|(r?2:0)]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(n,r){H(e,n,r),o=!0},p(n,[r]){const l={};r&35&&(l.$$scope={dirty:r,ctx:n}),e.$set(l)},i(n){o||($(e.$$.fragment,n),o=!0)},o(n){x(e.$$.fragment,n),o=!1},d(n){A(e,n)}}}class Je extends z{constructor(e){super(),q(this,e,null,Ge,C,{})}}function Qe(t){let e,o,n;return{c(){e=b("footer"),e.innerHTML='<h3 class="svelte-v61f3q">Footer with context menu</h3>',w(e,"class","svelte-v61f3q"),U(e,"colorSwitched",t[0])},m(r,l){_(r,e,l),o||(n=y(e,"contextmenu",B(Y(t[2]))),o=!0)},p(r,[l]){l&1&&U(e,"colorSwitched",r[0])},i:m,o:m,d(r){r&&p(e),o=!1,n()}}}function Ve(t,e,o){let n=!1;const r=[{label:"Switch Color",onSelect:()=>o(0,n=!n)},{label:"hr"},{label:"Log to console",onSelect:()=>console.log("logged to console")}];return[n,r,s=>h.toggle(s,r)]}class Ze extends z{constructor(e){super(),q(this,e,Ve,Qe,C,{})}}function et(t){let e,o,n;return{c(){e=b("footer"),e.innerHTML='<h3 class="svelte-7mrxdi">Header with context menu</h3>',w(e,"class","svelte-7mrxdi"),U(e,"colorSwitched",t[0])},m(r,l){_(r,e,l),o||(n=y(e,"contextmenu",B(Y(t[2]))),o=!0)},p(r,[l]){l&1&&U(e,"colorSwitched",r[0])},i:m,o:m,d(r){r&&p(e),o=!1,n()}}}function tt(t,e,o){let n=!1;const r=[{label:"Switch Color",onSelect:()=>o(0,n=!n)},{label:"hr"},{label:"Alert",onSelect:()=>alert("Context triggered alert!")}];return[n,r,s=>h.toggle(s,r)]}class nt extends z{constructor(e){super(),q(this,e,tt,et,C,{})}}function ot(t){let e,o,n,r,l,s,i,c,u,g,d,f,k,M,Z;return e=new nt({}),g=new Ze({}),f=new Je({}),{c(){W(e.$$.fragment),o=E(),n=b("main"),r=b("h1"),r.textContent="Example of svelte-conmu",l=E(),s=b("h4"),s.textContent="A Svelte Context Menu Library",i=E(),c=b("div"),c.innerHTML="<i>Right click and experiment</i>",u=E(),W(g.$$.fragment),d=E(),W(f.$$.fragment),w(r,"class","svelte-ggasss"),w(s,"class","svelte-ggasss")},m(a,S){H(e,a,S),_(a,o,S),_(a,n,S),v(n,r),v(n,l),v(n,s),v(n,i),v(n,c),_(a,u,S),H(g,a,S),_(a,d,S),H(f,a,S),k=!0,M||(Z=[y(r,"contextmenu",B(Y(t[2]))),y(c,"contextmenu",B(Y(t[3])))],M=!0)},p:m,i(a){k||($(e.$$.fragment,a),$(g.$$.fragment,a),$(f.$$.fragment,a),k=!0)},o(a){x(e.$$.fragment,a),x(g.$$.fragment,a),x(f.$$.fragment,a),k=!1},d(a){A(e,a),a&&p(o),a&&p(n),a&&p(u),A(g,a),a&&p(d),A(f,a),M=!1,O(Z)}}}function rt(t){const e=[{label:"See code",onSelect:()=>window.open(new URL("https://github.com/jzillmann/svelte-conmu/tree/main/example"),"_blank")},{label:"Project Page",onSelect:()=>window.open(new URL("https://github.com/jzillmann/svelte-conmu"),"_blank")}],o=[{label:"Not exactly here... Explore the area indicated by the cursor!"}];return[e,o,l=>h.toggle(l,e),l=>h.toggle(l,o)]}class lt extends z{constructor(e){super(),q(this,e,rt,ot,C,{})}}new lt({target:document.getElementById("app")});
